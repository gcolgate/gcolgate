{
if(!thing.system && thing.data) {
thing.system = thing.data;
}
} @
<div>
  <div>
    <div class=" itemSsetheader">
      { Editable(thing,
      "thing.name",
      "itemSsetheader itemTitleInput")}
    </div>
    <div> { ( thing.type == "weapon" ? window.ItemWeapon(thing, owner, false) : "")}</div>
    <div> { (thing.type == "spell" ? window.ItemSpell(thing, owner, false): "")}</div>
    <div> { window.ItemArmor(thing) } </div>

    {thing.type +" "+ maybe(thing.system.consumableType) +" "+
    maybe(thing.system.attunement, "Requires Attunement ") +
    maybe(thing.system.rarity)
    }
  </div>
  <div>{window.MaybeDescription(thing.system.description.value)}</div>

</div>