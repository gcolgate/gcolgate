<div class="c18 doc-content">


    <div class="tab">
        <!-- <div { tabLinkClass( !thing.tab || (thing.tab && thing.tab=="goals" ) ) }
            onclick="htmlContext.openTab(event, 'goals', this, '{ thing.id }')">Goals</div> -->
        <div { tabLinkClass( !thing.tab || (thing.tab && thing.tab=="appearance" ) ) }
            onclick="htmlContext.openTab(event, 'appearance', this, '{ thing.id }')">Image</div>
        <div { tabLinkClass( !thing.tab || (thing.tab && thing.tab=="stats" ) ) }
            onclick="htmlContext.openTab(event, 'stats', this, '{ thing.id }')">Stats</div>
        <div { tabLinkClass( !thing.tab || (thing.tab && thing.tab=="inventory" ) ) }
            onclick="htmlContext.openTab(event, 'inventory', this,  '{ thing.id }')">Inventory</div>
        <div {tabLinkClass( !thing.tab || (thing.tab && thing.tab=="careers" ) ) }
            onclick="htmlContext.openTab(event, 'careers',  this, '{ thing.id }')">Careers</div>
        <div {tabLinkClass( !thing.tab || (thing.tab && thing.tab=="feats" ) ) }
            onclick="htmlContext.openTab(event, 'feats',  this, '{ thing.id }')">Feats</div>
        <div {tabLinkClass( !thing.tab || (thing.tab && thing.tab=="spells" ) ) }
            onclick="htmlContext.openTab(event, 'spells', this,  '{ thing.id }')">Spells</div>
        <div {tabLinkClass( !thing.tab || (thing.tab && thing.tab=="features" ) ) }
            onclick="htmlContext.openTab(event, 'features', this,  '{ thing.id }')">All Moves</div>
        <div {tabLinkClass( !thing.tab || (thing.tab && thing.tab=="raw" ) ) }
            onclick="htmlContext.openTab(event, 'raw', this,  '{ thing.id }')">Raw</div>
    </div>
    <p class="basicFont npcTitleInput indented12x"> Name:
        <input class="itemsetheader npcTitleInput" type="text" data-thingid="{thing.id}" value="{thing.name}"
            onchange="htmlContext.ChangeName(this)">
    </p>
    <!-- Include Initiative, Health/Max Health, Conditions, Exhaustion, take Damage, be healed, and Mana on the title
    bar
    -->

    <!-- Different tabs here -->
    <!-- <div id="goals" { tabClass( !thing.tab || (thing.tab && thing.tab=="goals" ) ) }> -->
    <!-- <div class=" twocolumnsuneven"> -->
    <!-- <image src="{getAppearanceImage(thing, 'portrait')}" alt="{thing.name}"
                style="max-width:256px{FetchStyleFromAppearanceArray(thing, 'portrait')}"
                onclick="htmlContext.showApperancePopUp(event,'{thing.id}')"></image>
            <div id="columntwo">
                Meeting your goals is usually the only way to advance.

                <p class="plain"><span class="">Long Term Goal: { MultilineEditText(thing,
                        "thing.longTermGoal",
                        "paragraphText ", 4,8 ) }</span></p>

                <p class="plain"><span class="">Goal: { MultilineEditText(thing,
                        "thing.goal1",
                        "paragraphText ", 4,8 ) }</span></p>
                <p class="plain"><span class="">Goal: { MultilineEditText(thing,
                        "thing.goal2",
                        "paragraphText ",4,8 ) }</span></p>
                <p class="plain"><span class="">Goal: { MultilineEditText(thing,
                        "thing.goal3",
                        "paragraphText ", 4,8 ) }</span></p>
            </div>
        </div>
    </div> -->
    <!-- Different tabs here -->

    <div id="stats" { tabClass( thing.tab && thing?.tab=="stats" ) }>

        <div class=" twocolumnsuneven">
            <image src="{getAppearanceImage(thing, 'portrait')}" alt="{thing.name}"
                style="max-width:256px{FetchStyleFromAppearanceArray(thing, 'portrait')}"
                onclick="htmlContext.showApperancePopUp(event,'{thing.id}')"></image>
            <div id="columntwo">
                { hasItemOfType(thing, IsBackgroundItem) ? "" : BackgroundButton(thing,window) }

                { drawItems(thing, IsBackgroundItem, undefined) }

                <div style="display: flex;
                    color: rgb(88, 23, 13);
                    justify-content: space-around;
                    color-scheme: light dark;
                    display: grid;
                    grid-template-columns: repeat(3, 1fr);
                    font-family: Georgia, serif;
                    font-size: 20px;
                    font-weight: 400">
                    { PTBAAbilities(thing); }
                </div>

                <div> Defenses
                    <div> { PTBADefenses(thing) } </div>
                </div>


                <div class="padded speedline">
                    <button class="greentintButton roundbutton"
                        onclick="htmlContext.takeDamage('{thing.id}',getTakenDamage('{thing.id}'),getTakenDamageType('{thing.id}'),1)">
                        +</button>
                    <button class="middleButton "
                        onclick="htmlContext.takeDamage('{thing.id}',getTakenDamage('{thing.id}'),getTakenDamageType('{thing.id}'),0)">
                        Take Damage
                    </button>

                    <div class="speedline"> Damage: {Editable(thing, 'thing.counters.damageToTakeAmt' , "npcNum")}

                        type: {Editable(thing, 'thing.counters.damageToTakeType' , "npcNum")}
                    </div>

                    <button class="redtintButton roundbutton"
                        onclick="htmlContext.takeDamage('{thing.id}',getTakenDamage('{thing.id}'),getTakenDamageType('{thing.id}'),-1)">-</button>


                </div>
                <p class="npcBold"><span class="c12">Wounds Taken: { Editable(thing,
                        "thing.counters.hurt",
                        "itemsetheader numberinput") } of { getMaxHealth(thing) }</span></p>
                <p class="npcBold"><span class="c12">Exhaustion Suffered: { Editable(thing,
                        "thing.counters.exhaustion",
                        "itemsetheader numberinput") } of 12</span></p>

            </div>
        </div>
    </div>

    <!-- Different tabs here -->


    <div id="appearance" { tabClass( thing.tab && thing?.tab=="appearance" ) }>

        <div class="twocolumns">
            <div>
                <div class="npcheader" onclick="htmlContext.showApperancePopUp(event,'{thing.id}')"> {
                    thing.current_appearance }
                </div>
                <div> Portrait</div>
                <image src="{getAppearanceImage(thing, 'portrait')}" alt="{thing.name}"
                    style="max-width:256px{FetchStyleFromAppearanceArray(thing, 'portrait')}"
                    onclick="htmlContext.showPasteAndChoose(event, window, 'portrait_{thing.id}','token_{thing.id}')"
                    ondragenter="onDragEnter(event,this)" ondragover="onDragOver(event,this)"
                    ondrop="onDropOnImage(event,this,'{thing.id}', 'portrait')" ondragleave="onDragLeave(event,this)"
                    </image>
                    <div id="portrait_{thing.id}" class="hiddenButton">
                        <button>Paste</button>
                        <form action="/uploadFromButton" method="POST" enctype="multipart/form-data"
                            id="portrait_form_{thing.id}">
                            <input type="file" id="portrait_file_{thing.id}" name="filename" hidden
                                onchange="UploadAppearanceArt(event,'portrait','{thing.id}')">
                            <input id='buttonid' type='button' value='Upload Image'
                                onclick="document.getElementById('portrait_file_{thing.id}').click();" />
                            <input type='submit' value='Submit' hidden />
                        </form>
                    </div>
            </div>
            <div>
                <div> Token</div>
                <image src="{getAppearanceImage(thing, 'token')}" alt="{thing.name}"
                    style="max-width:256px{FetchStyleFromAppearanceArray(thing, 'token')}"
                    onclick="htmlContext.showPasteAndChoose(event, window, 'token_{thing.id}','portrait_{thing.id}')"
                    ondragenter="onDragEnter(event,this)" ondragover="onDragOver(event,this)"
                    ondrop="onDropOnImage(event,this,'{thing.id}', 'token')" ondragleave=" onDragLeave(event,this)"
                    </image>
                    <div id=" token_{thing.id}" class="hiddenButton">
                        <button>Paste</button>
                        <form action="/uploadFromButton" method="POST" enctype="multipart/form-data"
                            id="token_form_{thing.id}">
                            <input type="file" id="token_file_{thing.id}" name="filename" hidden
                                onchange="UploadAppearanceArt(event,'token','{thing.id}')">
                            <input id='buttonid' type='button' value='Upload Image'
                                onclick="document.getElementById('token_file_{thing.id}').click();" />
                            <input type='submit' value='Submit' hidden />
                        </form>
                    </div>
            </div>
        </div>
    </div>
    <!-- Different tabs here -->

    <div id="careers" { tabClass( thing.tab && thing?.tab=="careers" ) }>
        <div class=" outlined dragitem">
            <div class="relative_inline_block">
                <button onclick="htmlContext.dropDownToggle('dropdown_{thing.id}', window.document)"
                    class="blueButton">Add
                    Career</button>
                <div id="dropdown_{thing.id}" class="dropdown-content itemsetheadershort crit">
                    <input type=" text" placeholder="Search.." id="dropdown_content_{thing.id}"
                        onkeyup="filterDropDown('dropdown_content_{thing.id}','dropdown_{thing.id}')">
                    { extractFromCompendium(["careers"], thing); }
                </div>
                { drawItems(thing, IsCareerItem, undefined) }
            </div>
        </div>
    </div>

    <div id="feats" { tabClass( thing.tab && thing?.tab=="feats" ) }>
        <div class=" outlined dragitem">

        </div>
    </div>
    <!-- <p class="c31 c32 c13"><span class="c2"></span></p>
    <p class="c31 c32 c13"><span class="c2"></span></p>
    <h2 class="c41 c32" id="h.mgj5wnut02kc"><span class="c16 c30 c24">Steel:
            PTBAComputeSteel(thing) </span></h2>
    <p class="npcBold"><span
            class="c16 c24 c38">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    </p>
    <h2 class="c32 c41" id="h.yj31nys9qpei"><span>Supplies</span><span class="c16 c24 c30">:
            PTBAComputeMaxSupplies(thing)/{thing.counters.supplies}</span></h2>
    <p clas=" npcBold"c13"><span class="c2"></span></p><a id="t.65e1cb7adb445e5b6fb90a596e799c0ac98d7fbc"></a><a
        id="t.1"></a> -->

    <!-- Different tabs here -->

    <div id="spells" { tabClass( thing.tab && thing.tab=="spells" )}>

        <p class="npcBold"><span class="c12">Mana in aura: { Editable(thing,
                "thing.counters.manaInAura",
                "itemsetheader numberinput") } of { (getMaxMageLevel(thing)+1) }</span></p>
        <p class="npcBold"> Raise Mana </p>

        <button onclick="htmlContext.addManaOncePerTurn(this,'{thing.id}')">Once Per turn</button>
        <button onclick="htmlContext.addManaExhaust(this,'{thing.id}')">From Exhaustion</button>
        <button onclick="htmlContext.addManaStab(this,'{thing.id}')">Action: Cut yourself (blood magic) </button>
        <button onclick="htmlContext.addManaStabAnother(this,'{thing.id}')">Action: Stab another </button>
        <button onclick="htmlContext.addManaSpendIngredients(this,'{thing.id}')">Action: Spend ingredients</button>
        <button onclick="htmlContext.AddManaWorldsOfPower(this,'{thing.id}')">Bonus Action: Say Words of Power</button>
        <button onclick="htmlContext.AddManaPLanarFOrces(this,'{thing.id}')">Bonus Action: call on Planar
            Forces</button>
        <button onclick="htmlContext.AddManaGotCritOrFumble(this,'{thing.id}')">Got a crit or fumble</button>
        { drawItems(thing, IsSpellIngredient, undefined) }
        <button onclick="htmlContext.resetManaButtons(this.parentElement,'{thing.id}')">reset turn</button>
        <button onclick="htmlContext.dropDownToggle('ddispells_{thing.id}',window.document)" class="blueButton">Learn
            Spell</button>
        <div id="ddispells_{thing.id}" class="dropdown-content itemsetheadershort crit">
            <input type=" text" placeholder="Search.." id="ddispells_c_{thing.id}"
                onkeyup="htmlContext.filterDropDown('ddispells_c_{thing.id}','ddispells_{thing.id}')">
            { extractFromCompendium(["spell"], thing , ListAllMagicPowers(thing), SpellPowerOnOf )
            }
        </div>

        <div class="threecolumnsevenfull">
            { drawItems(thing, IsSpellItem, "full") }
        </div>
    </div>

    <div id="features" { tabClass( thing.tab && thing.tab=="features" )}>

        <div> { PTBAMoves(thing) } </div>


    </div>



    <div id="raw" { tabClass( thing.tab && thing.tab=="raw" )}>

        <div> {
            RawEditor(thing, thing, "")
            } </div>

    </div>
    <!-- Different tabs here onclick="showApperancePopUp(event,'{thing.id}')"

 onclick="showApperancePopUp(event,'{thing.id}')"

  onclick="showApperancePopUp(event,'{thing.id}')"

-->

    <div id="inventory" { tabClass( thing.tab && thing.tab=="inventory" )}>
        <div id="{'InventoryTooltip_' + thing.id}" class="tooltip">
        </div>
        <div class="npcheader" onclick="htmlContext.showApperancePopUp(event,'{thing.id}')"> {
            thing.current_appearance }
        </div>
        <div class="twocolumnsuneven">
            <div class="imageWrapper">
                <!-- <img class="overlayImage" src="{getAppearanceImage(thing, 'portrait')}" alt="{thing.name}"
                style="width:256px{FetchStyleFromAppearanceArray(thing, 'portrait')}"></image> -->
                <!-- <img class="overlayImage" src="assets/black.webp" alt="{thing.name}"
                style="max-width:256px{FetchStyleFromAppearanceArray(thing, 'portrait')}"></image> -->
                <!-- <img class="overlayImage" src="assets/paperdoll.webp" alt="{thing.name}"
                style="max-width:256px{FetchStyleFromAppearanceArray(thing, 'portrait')}"></image> -->

                <svg viewBox="0 0 250 400" xmlns="http://www.w3.org/2000/svg" class="overlayImageDolll"
                    ownerid="{thing.id}" ondragenter="svgDragOver(evt)" ondragover="svgDragOver(evt)"
                    ondrop="svgDragDrop(evt)" ondragleave="svgDragOut(evt)">
                    <rect x=0% y="0%" width="100%" height="100%" class="inventorygbkg" />

                    <defs>
                        <linearGradient id="darktolight" x1="0%" x2="100%" y1="0%" y2="0%">
                            <stop offset="0%" stop-color="black" stop-opacity="1.0" />
                            <stop offset="100%" stop-color="black" stop-opacity="0.0" />
                        </linearGradient>

                        <linearGradient id="lighttodark" x1="100%" x2="0%" y1="0%" y2="0%">
                            <stop offset="0%" stop-color="black" stop-opacity="1.0" />
                            <stop offset="100%" stop-color="black" stop-opacity="0.0" />
                        </linearGradient>
                    </defs>

                    <image href="{getAppearanceImage(thing, 'portrait')}" width="75%" height="80%" y="05%" x="10%"
                        title="image" preserveAspectRatio="xMidYMid meet"
                        onclick="htmlContext.showApperancePopUp(event,'{thing.id}')">
                    </image>/>

                    <rect x="0%" y="0%" width="20%" height="100%" fill="url(#darktolight)"></rect>
                    <rect x="70%" y="0%" width="40%" height="100%" fill="url(#lighttodark)"></rect>


                    <g slot="head">
                        <image href='{ getSlotImage(thing,"head","assets/helm.webp")}' x=01% y="1%" width="11.25%"
                            height="7.03125%" />
                        <rect x=1% y="1%" width="11.25%" height="7.03125%" slot="head" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}', this.slot);"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>Headgear</title>
                        </rect>
                    </g>

                    <g slot="cloak">
                        <image href=' { getSlotImage(thing,"cloak","assets/cloak.webp")}' , x=1% y="11%" width="11.25%"
                            height="7.03125%"" />
                    <rect x=1% y=" 11%" width="11.25%" height="7.03125%" slot="cloak" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}', this.slot);"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>Cloak</title>
                            </rect>
                    </g>
                    <g slot="armor">
                        <image href=' {getSlotImage(thing,"armor","assets/armor.webp")}' x=01% y="21%" width="11.25%"
                            height="7.03125%" />
                        <rect x=1% y="21%" width="11.25%" height="7.03125%" slot="armor" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}', this.slot);"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>Armor</title>
                        </rect>
                    </g>
                    <g slot="glove">
                        <image href=' {getSlotImage(thing,"glove","assets/glove.webp")}' x=01% y="31%" width="11.25%"
                            height="7.03125%" />
                        <rect x=1% y="31%" width="11.25%" height="7.03125%" slot="glove" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}', this.slot);"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>Gloves</title>
                        </rect>
                    </g>
                    <g slot="feet">
                        <image href=' {getSlotImage(thing,"feet","assets/feet.webp")}' x=01% y="41%" width="11.25%"
                            height="7.03125%" />
                        <rect x=1% y="41%" width="11.25%" height="7.03125%" slot="foot" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}', this.slot);"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>Shoes</title>
                        </rect>
                    </g>

                    <g slot="longarm">
                        <image href=' {getSlotImage(thing,"longarm","assets/longarm.webp")}' x=01% y="51%" width="9%"
                            height="18%" />
                        <rect x=1% y="51%" width="9%" slot="longarm" height="18%" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}', this.slot);"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>LongArm</title>
                        </rect>
                    </g>
                    <g slot="sidearm">
                        <image href=' {getSlotImage(thing,"sidearm", "assets/sidearm.webp")}' x="1%" y="81%"
                            width="11.25%" height="7.03125%" />
                        <rect x="1%" y="81%" width="11.25%" height="7.03125%" slot="sidearm" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}', this.slot);"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>sideArm</title>
                        </rect>
                    </g>
                    <g slot="shield">
                        <image href=' {getSlotImage(thing,"shield", "assets/shield.webp")}' x="15%" y="81%"
                            width="11.25%" height="7.03125%" />
                        <rect x="15%" y="81%" width="11.25%" height="7.03125%" slot="shield" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}', this.slot);"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>LeftArm</title>
                        </rect>
                    </g>


                    <g slot="mount">
                        <image href='{ getSlotImage(thing,"mount","assets/mount.webp")}' x=30% y="81%" width="16.25%"
                            height="10%" />
                        <rect x=30% y="81%" width="16.25%" height="10%" slot="mount" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}', this.slot);"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>Mount</title>
                        </rect>
                    </g>

                    <g slot="pendant">
                        <image href=' {getSlotImage(thing,"pendant","assets/pendant.webp")}' x="78%" y="1%"
                            width="11.25%" height="7.03125%" />
                        <rect x="78%" y="1%" width="11.25%" height="7.03125%" slot="pendant" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}', this.slot);"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>pendant</title>
                        </rect>
                    </g>
                    <g slot="ring">
                        <image href='{getSlotImage(thing,"ring0","assets/ring.webp")}' x="75%" y="11%" width="9%"
                            height="5.625%" />
                        <rect x="75%" y="11%" width="9%" slot="ring" height="5.625%" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}', this.slot);"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>Ring 1</title>
                        </rect>
                    </g>
                    <g slot="ring">
                        <image href='{getSlotImage(thing,"ring1","assets/ring.webp")}' x="85%" y="11%" width="9%"
                            height="5.625%" />
                        <rect x="85%" y="11%" width="9%" slot="ring" height="5.625%" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}', this.slot);"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>Ring 2</title>
                        </rect>
                    </g>
                    <g slot="pockets">
                        <image href='{getSlotImage(thing,"pockets0","assets/bag.webp")}' x="75%" y="21%" width="9%"
                            height="5.625%" />
                        <rect x="75%" y="21%" width="9%" slot="pockets" height="5.625%" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}','pockets0');"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>Pockets 1</title>
                        </rect>
                    </g>
                    <g slot="pockets">
                        <image href='{getSlotImage(thing,"pockets1","assets/bag.webp")}' x="85%" y="21%" width="9%"
                            height="5.625%" />
                        <rect x="85%" y="21%" width="9%" slot="pockets" height="5.625%" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}','pockets1');"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>Pockets 2</title>
                        </rect>
                    </g>
                    <g slot="pockets">
                        <image href='{getSlotImage(thing,"pockets2","assets/bag.webp")}' x="75%" y="31%" width="9%"
                            height="5.625%" />
                        <rect x="75%" y="31%" width="9%" slot="pockets" height="5.625%" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}', 'pockets2');"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>Pockets 3</title>
                        </rect>
                    </g>
                    <g slot="pockets">
                        <image href='{getSlotImage(thing,"pockets3","assets/bag.webp")}' x="85%" y="31%" width="9%"
                            height="5.625%" />
                        <rect x="85%" y="31%" width="9%" slot="pockets" height="5.625%" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}', 'pockets3');"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>Pockets 4</title>
                        </rect>
                    </g>
                    <g slot="pockets">
                        <image href='{getSlotImage(thing,"pockets4","assets/bag.webp")}' x="75%" y="41%" width="9%"
                            height="5.625%" />

                        <rect x="75%" y="41%" width="9%" slot="pockets" height="5.625%" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}','pockets4');"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>Pockets 5</title>
                        </rect>
                    </g>
                    <g slot="pockets">
                        <image href='{getSlotImage(thing,"pockets5","assets/bag.webp")}' x="85%" y="41%" width="9%"
                            height="5.625%" />

                        <rect x="85%" y="41%" width="9%" slot="pockets" height="5.625%" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}', 'pockets5');"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>Pockets 6</title>
                        </rect>
                    </g>
                    <g slot="potion">
                        <image href='{getSlotImage(thing,"potion1","assets/potion.webp")}' x="80%" y="51%" width="9%"
                            height="5.625%" />
                        <rect x="80%" y="51%" width="9%" slot="potion" height="5.625%" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}', 'potion1');"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>Potion 1</title>
                        </rect>
                    </g>
                    <g slot="potion">
                        <image href='{getSlotImage(thing,"potion2","assets/potion.webp")}' x="80%" y="61%" width="9%"
                            height="5.625%" />
                        <rect x="80%" y="61%" width="9%" slot="potion" height="5.625%" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}', 'potion2');"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>Potion 2</title>
                        </rect>
                    </g>
                    <g slot="potion">
                        <image href='{getSlotImage(thing,"potion3","assets/potion.webp")}' x="80%" y="71%" width="9%"
                            height="5.625%" />

                        <rect x="80%" y="71%" width="9%" slot="potion" height="5.625%" class="inventoryitem"
                            onmousemove="showInventoryTooltip(evt, '{thing.id}', 'potion3');"
                            onmouseout="hideInventoryTooltip('{thing.id}');">
                            <title>Potion 3</title>
                        </rect>
                    </g>

                </svg>

            </div>

            <div id=" columntwo">
                <div>Items</div>
                <button onclick="htmlContext.dropDownToggle('ddi_{thing.id}',window.document)" class="blueButton">Buy
                    Item</button>
                <div id="ddi_{thing.id}" class="dropdown-content itemsetheadershort crit">
                    <input type=" text" placeholder="Search.." id="ddi_c_{thing.id}"
                        onkeyup="filterDropDown('ddi_c_{thing.id}','ddi_{thing.id}')">
                    { extractFromCompendium(["weapon"], thing); }
                </div>
                <div class="outlined dragitem">
                    { drawItems(thing, IsInventoryItem) }
                </div>
            </div>
        </div>
    </div>
</div>