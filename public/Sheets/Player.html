<div class="c18 doc-content">


    <div class="tab">
        <div { tabLinkClass( !thing.tab || (thing.tab && thing.tab=="stats" ) ) }
            onclick="openTab(event, 'stats', this, '{ thing.id }')">Stats</div>
        <div { tabLinkClass( !thing.tab || (thing.tab && thing.tab=="inventory" ) ) }
            onclick="openTab(event, 'inventory', this,  '{ thing.id }')">Inventory</div>
        <div {tabLinkClass( !thing.tab || (thing.tab && thing.tab=="careers" ) ) }
            onclick="openTab(event, 'careers',  this, '{ thing.id }')">Careers</div>
        <div {tabLinkClass( !thing.tab || (thing.tab && thing.tab=="features" ) ) }
            onclick="openTab(event, 'features', this,  '{ thing.id }')">Features</div>
    </div>
    <p class="basicFont npcTitleInput indented"> Name:
        <input class="itemsetheader npcTitleInput" type="text" data-thingid="{thing.id}" value="{thing.name}"
            onchange="ChangeName(this)">
    </p>

    <!-- Different tabs here -->

    <div id="stats" { tabClass( !thing.tab || (thing.tab && thing.tab=="stats" ) ) }>
        <div class=" twocolumnsuneven">
            <image src="{getAppearanceImage(thing, 'portrait')}" alt="{thing.name}"
                style="max-width:256px{FetchStyleFromAppearanceArray(thing, 'portrait')}"
                onclick="showApperancePopUp(event,'{thing.id}')"></image>
            <div id="columntwo">

                <p class="npcBold"><span class="c12">Species: { Editable(thing,
                        "thing.species",
                        "itemsetheader itemTitleInput", "species-list") }</span></p>

                <datalist id="species-list">
                    <option>Human</option>
                    <option>Elf</option>
                    <option>Dark Troll</option>
                    <option>Dwarf</option>
                    <option>Ratling</option>
                </datalist>


                <p class="npcBold"><span class="c12">Origin: {Editable(thing,
                        "thing.origin",
                        "itemsetheader itemTitleInput", "places-list")} </p>
                <datalist id="places-list">
                    <option>Barony of Lewd Umber</option>
                    <option>Majority City</option>
                    <option>Barony of Orfor</option>
                    <option>Empire of the Red Moon</option>
                    <option>The Frozen Coast</option>
                    <option>Lorien Wood</option>
                    <option>Illyrian Isles</option>
                    <option>Mountains of Fear</option>
                    <option>Underdark</option>
                    <option>Far Chept</option>
                </datalist>

                <p class="npcBold"><span class="c12">Wealth: {Editable(thing,"thing.wealth", "npcNum") }</p>

                <div style="display: flex;
                    color: rgb(88, 23, 13);
                    justify-content: space-around;
                    color-scheme: light dark;
                    display: grid;
                    grid-template-columns: repeat(3, 1fr);
                    font-family: Georgia, serif;
                    font-size: 20px;
                    font-weight: 400">
                    { PTBAAbilities(thing); }
                </div>
            </div>
        </div>
    </div>

    <!-- Different tabs here -->

    <div id="careers" { tabClass( thing.tab && thing?.tab=="careers" ) }>
        <div class=" outlined dragitem">
            <div class="relative_inline_block">
                <button onclick="dropDownToggle('dropdown_{thing.id}')" class="blueButton">Add Career</button>
                <div id="dropdown_{thing.id}" class="dropdown-content itemsetheadershort crit">
                    <input type=" text" placeholder="Search.." id="dropdown_content_{thing.id}"
                        onkeyup="filterDropDown('dropdown_content_{thing.id}','dropdown_{thing.id}')">
                    { extractFromCompendium(["careers"], thing); }
                </div>
                { drawItems(thing, IsCareerItem, undefined) }
            </div>
        </div>
    </div>
    <!-- <p class="c31 c32 c13"><span class="c2"></span></p>
    <p class="c31 c32 c13"><span class="c2"></span></p>
    <h2 class="c41 c32" id="h.mgj5wnut02kc"><span class="c16 c30 c24">Steel:
            PTBAComputeSteel(thing) </span></h2>
    <p class="npcBold"><span
            class="c16 c24 c38">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
    </p>
    <h2 class="c32 c41" id="h.yj31nys9qpei"><span>Supplies</span><span class="c16 c24 c30">:
            PTBAComputeMaxSupplies(thing)/{thing.counters.supplies}</span></h2>
    <p clas=" npcBold"c13"><span class="c2"></span></p><a id="t.65e1cb7adb445e5b6fb90a596e799c0ac98d7fbc"></a><a
        id="t.1"></a> -->

</div>
<!-- Different tabs here -->

<div id="features" { tabClass( thing.tab && thing.tab=="features" )}>

    <div> { PTBAMoves(thing) } </div>

    <div class="outlined dragitem">
        { drawItems(thing, IsCareerItem, "full") }
    </div>
</div>
<!-- Different tabs here onclick="showApperancePopUp(event,'{thing.id}')" 

 onclick="showApperancePopUp(event,'{thing.id}')"

  onclick="showApperancePopUp(event,'{thing.id}')"

-->

<div id="inventory" { tabClass( thing.tab && thing.tab=="inventory" )}>
    <div class="twocolumnsuneven">
        <div class="imageWrapper">
            <!-- <img class="overlayImage" src="{getAppearanceImage(thing, 'portrait')}" alt="{thing.name}"
                style="width:256px{FetchStyleFromAppearanceArray(thing, 'portrait')}"></image> -->
            <!-- <img class="overlayImage" src="assets/black.webp" alt="{thing.name}"
                style="max-width:256px{FetchStyleFromAppearanceArray(thing, 'portrait')}"></image> -->
            <!-- <img class="overlayImage" src="assets/paperdoll.webp" alt="{thing.name}"
                style="max-width:256px{FetchStyleFromAppearanceArray(thing, 'portrait')}"></image> -->

            <svg viewBox="0 0 250 400" xmlns="http://www.w3.org/2000/svg" class="overlayImageDolll" ownerid="{thing.id}"
                ondragenter="svgDragOver(evt)" ondragover="svgDragOver(evt)" ondrop="svgDragDrop(evt)"
                ondragleave="svgDragOut(evt)">
                <rect x=0% y="0%" width="100%" height="100%" class="inventorygbkg" />

                <defs>
                    <linearGradient id="darktolight" x1="0%" x2="100%" y1="0%" y2="0%">
                        <stop offset="0%" stop-color="black" stop-opacity="1.0" />
                        <stop offset="100%" stop-color="black" stop-opacity="0.0" />
                    </linearGradient>

                    <linearGradient id="lighttodark" x1="100%" x2="0%" y1="0%" y2="0%">
                        <stop offset="0%" stop-color="black" stop-opacity="1.0" />
                        <stop offset="100%" stop-color="black" stop-opacity="0.0" />
                    </linearGradient>
                </defs>

                <image href="{getAppearanceImage(thing, 'portrait')}" width="75%" height="80%" y="05%" x="10%"
                    title="image" preserveAspectRatio="xMidYMid meet" onclick="showApperancePopUp(event,'{thing.id}')">
                </image>/>

                <rect x="0%" y="0%" width="20%" height="100%" fill="url(#darktolight)"></rect>
                <rect x="70%" y="0%" width="40%" height="100%" fill="url(#lighttodark)"></rect>


                <g slot="head">
                    <image href='{ getSlotImage(thing,"head","assets/helm.webp")}' x=01% y="1%" width="11.25%"
                        height="7.03125%" />
                    <rect x=1% y="1%" width="11.25%" height="7.03125%" slot="head" class="inventoryitem">
                        <title>Headgear</title>
                    </rect>
                </g>

                <g slot="cloak">
                    <image href=' { getSlotImage(thing,"cloak","assets/cloak.webp")}' , x=1% y="11%" width="11.25%"
                        height="7.03125%"" />
                    <rect x=1% y=" 11%" width="11.25%" height="7.03125%" slot="cloak" class="inventoryitem">
                        <title>Cloak</title>
                        </rect>
                </g>
                <g slot="armor">
                    <image href=' {getSlotImage(thing,"armor","assets/armor.webp")}' x=01% y="21%" width="11.25%"
                        height="7.03125%" />
                    <rect x=1% y="21%" width="11.25%" height="7.03125%" slot="armor" class="inventoryitem">
                        <title>Armor</title>
                    </rect>
                </g>
                <g slot="glove">
                    <image href=' {getSlotImage(thing,"glove","assets/glove.webp")}' x=01% y="31%" width="11.25%"
                        height="7.03125%" />
                    <rect x=1% y="31%" width="11.25%" height="7.03125%" slot="glove" class="inventoryitem">
                        <title>Gloves</title>
                    </rect>
                </g>
                <g slot="feet">
                    <image href=' {getSlotImage(thing,"feet","assets/feet.webp")}' x=01% y="41%" width="11.25%"
                        height="7.03125%" />
                    <rect x=1% y="41%" width="11.25%" height="7.03125%" slot="foot" class="inventoryitem">
                        <title>Shoes</title>
                    </rect>
                </g>

                <g slot="longarm">
                    <image href=' {getSlotImage(thing,"longarm","assets/longarm.webp")}' x=01% y="51%" width="9%"
                        height="18%" />
                    <rect x=1% y="51%" width="9%" slot="longarm" height="18%" class="inventoryitem">
                        <title>LongArm</title>
                    </rect>
                </g>
                <g slot="sidearm">
                    <image href=' {getSlotImage(thing,"sidearm", "assets/sidearm.webp")}' x="1%" y="81%" width="11.25%"
                        height="7.03125%" />
                    <rect x="1%" y="81%" width="11.25%" height="7.03125%" slot="sidearm" class="inventoryitem">
                        <title>sideArm</title>
                    </rect>
                </g>
                <g slot="shield">
                    <image href=' {getSlotImage(thing,"shield", "assets/shield.webp")}' x="15%" y="81%" width="11.25%"
                        height="7.03125%" />
                    <rect x="15%" y="81%" width="11.25%" height="7.03125%" slot="shield" class="inventoryitem">
                        <title>LeftArm</title>
                    </rect>
                </g>
                <g slot="pendant">
                    <image href=' {getSlotImage(thing,"pendant","assets/pendant.webp")}' x="78%" y="1%" width="11.25%"
                        height="7.03125%" />
                    <rect x="78%" y="1%" width="11.25%" height="7.03125%" slot="pendant" class="inventoryitem">
                        <title>pendant</title>
                    </rect>
                </g>
                <g slot="ring">
                    <image href='{getSlotImage(thing,"ring0","assets/ring.webp")}' x="75%" y="11%" width="9%"
                        height="5.625%" />
                    <rect x="75%" y="11%" width="9%" slot="ring" height="5.625%" class="inventoryitem">
                        <title>Ring 1</title>
                    </rect>
                </g>
                <g slot="ring">
                    <image href='{getSlotImage(thing,"ring1","assets/ring.webp")}' x="85%" y="11%" width="9%"
                        height="5.625%" />
                    <rect x="85%" y="11%" width="9%" slot="ring" height="5.625%" class="inventoryitem">
                        <title>Ring 2</title>
                    </rect>
                </g>
                <g slot="pockets">
                    <image href='{getSlotImage(thing,"pockets0","assets/bag.webp")}' x="75%" y="21%" width="9%"
                        height="5.625%" />
                    <rect x="75%" y="21%" width="9%" slot="pockets" height="5.625%" class="inventoryitem">
                        <title>Pockets 1</title>
                    </rect>
                </g>
                <g slot="pockets">
                    <image href='{getSlotImage(thing,"pockets1","assets/bag.webp")}' x="85%" y="21%" width="9%"
                        height="5.625%" />
                    <rect x="85%" y="21%" width="9%" slot="pockets" height="5.625%" class="inventoryitem">
                        <title>Pockets 2</title>
                    </rect>
                </g>
                <g slot="pockets">
                    <image href='{getSlotImage(thing,"pockets2","assets/bag.webp")}' x="75%" y="31%" width="9%"
                        height="5.625%" />
                    <rect x="75%" y="31%" width="9%" slot="pockets" height="5.625%" class="inventoryitem">
                        <title>Pockets 3</title>
                    </rect>
                </g>
                <g slot="pockets">
                    <image href='{getSlotImage(thing,"pockets3","assets/bag.webp")}' x="85%" y="31%" width="9%"
                        height="5.625%" />
                    <rect x="85%" y="31%" width="9%" slot="pockets" height="5.625%" class="inventoryitem">
                        <title>Pockets 4</title>
                    </rect>
                </g>
                <g slot="pockets">
                    <image href='{getSlotImage(thing,"pockets4","assets/bag.webp")}' x="75%" y="41%" width="9%"
                        height="5.625%" />

                    <rect x="75%" y="41%" width="9%" slot="pockets" height="5.625%" class="inventoryitem">
                        <title>Pockets 5</title>
                    </rect>
                </g>
                <g slot="pockets">
                    <image href='{getSlotImage(thing,"pockets5","assets/bag.webp")}' x="85%" y="41%" width="9%"
                        height="5.625%" />

                    <rect x="85%" y="41%" width="9%" slot="pockets" height="5.625%" class="inventoryitem">
                        <title>Pockets 6</title>
                    </rect>
                </g>
                <g slot="potion">
                    <image href='{getSlotImage(thing,"potion1","assets/potion.webp")}' x="80%" y="51%" width="9%"
                        height="5.625%" />
                    <rect x="80%" y="51%" width="9%" slot="potion" height="5.625%" class="inventoryitem">
                        <title>Potion 1</title>
                    </rect>
                </g>
                <g slot="potion">
                    <image href='{getSlotImage(thing,"potion2","assets/potion.webp")}' x="80%" y="61%" width="9%"
                        height="5.625%" />
                    <rect x="80%" y="61%" width="9%" slot="potion" height="5.625%" class="inventoryitem">
                        <title>Potion 2</title>
                    </rect>
                </g>
                <g slot="potion">
                    <image href='{getSlotImage(thing,"potion3","assets/potion.webp")}' x="80%" y="71%" width="9%"
                        height="5.625%" />

                    <rect x="80%" y="71%" width="9%" slot="potion" height="5.625%" class="inventoryitem">
                        <title>Potion 3</title>
                    </rect>
                </g>

            </svg>

        </div>

        <div id=" columntwo">
            <div>Items</div>
            <button onclick="dropDownToggle('ddi_{thing.id}')" class="blueButton">Buy Item</button>
            <div id="ddi_{thing.id}" class="dropdown-content itemsetheadershort crit">
                <input type=" text" placeholder="Search.." id="ddi_c_{thing.id}"
                    onkeyup="filterDropDown('ddi_c_{thing.id}','ddi_{thing.id}')">
                { extractFromCompendium(["weapon"], thing); }
            </div>
            <div class="outlined dragitem">
                { drawItems(thing, IsInventoryItem) }
            </div>
        </div>
    </div>
</div>
</div>